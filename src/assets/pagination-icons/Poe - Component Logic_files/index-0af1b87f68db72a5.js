(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(30828)}])},73491:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotPill_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotImage_bot"}],type:"Bot",abstractKey:null};n.hash="a3a285a08a05f995a37ad202f3cedcde",a.default=n},14972:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"BotSelectorHomeMain_displayBotEdges",selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotPill_bot"}],storageKey:null}],type:"BotEdge",abstractKey:null};n.hash="d88f928ebf98b148fc733c00880fb1ca",a.default=n},50417:function(e,a,l){"use strict";var n,i,t,s;l.r(a);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"botId"}],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainerOptimisticBotQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"botId",variableName:"botId"}],concreteType:"Bot",kind:"LinkedField",name:"botById",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHomeMainInputContainerOptimisticBotQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"botById",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},t,s={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},s],storageKey:null}]},params:{id:"53d82d086885b495e19ff52e9f3e01e9caa742ed134d69e046aa31b8fed17b86",metadata:{},name:"ChatHomeMainInputContainerOptimisticBotQuery",operationKind:"query",text:null}};r.hash="359a6235f24ad05f0b3b23b8a765ff91",a.default=r},88548:function(e,a,l){"use strict";var n,i;l.r(a);let t={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainerOptimisticViewerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ChatHomeMainInputContainerOptimisticViewerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"allowDragDrop",args:[{kind:"Literal",name:"gateName",value:"poe_file_drag_and_drop"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_drag_and_drop")'},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},n,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},i],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"useShareButtonRedesign",args:[{kind:"Literal",name:"gateName",value:"poe_share_button_redesign"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_share_button_redesign")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},i],storageKey:null}]},params:{id:"b47653fce6bf78f2e49f636f87b312a72ff382a5a5509a0ef4324731e2ebc32b",metadata:{},name:"ChatHomeMainInputContainerOptimisticViewerQuery",operationKind:"query",text:null}};t.hash="e103b5a206ed33567e4af2b481455feb",a.default=t},19311:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainer_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatMessageInputContainer_bot"},{args:null,kind:"FragmentSpread",name:"optimisticChat_useCreateOptimisticChat_bot"},{args:null,kind:"FragmentSpread",name:"subscriptionHelpers_useBotLogData_bot"}],type:"Bot",abstractKey:null};n.hash="fb20b73978dc0e19453b578da44f33c1",a.default=n},61733:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainer_viewer",selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatMessageInputContainer_viewer"},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'}],type:"Viewer",abstractKey:null};n.hash="e142532c766b1f16119e039002736f70",a.default=n},47195:function(e,a,l){"use strict";var n,i,t,s,r,o,u,d;l.r(a);let c=(d={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"ChatHomeMain_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,r={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t,{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[r],storageKey:null},u={kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,u],args:null,argumentDefinitions:[]},{kind:"ClientExtension",selections:[d]}],args:null,argumentDefinitions:[]}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHomeMain_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,s,d,{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,r,o],storageKey:null}],storageKey:null}]}]},params:{cacheID:"3144299252ad300ca6894cb9778cedbc",id:null,metadata:{},name:"ChatHomeMain_optimisticChatQuery",operationKind:"query",text:null}});c.hash="e12a14cd73a6bd3b608d80fbdd237de4",a.default=c},62313:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMain_useLoginEffect_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"primaryEmail",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showDownloadAndroidAppPrompt",storageKey:null}],type:"Viewer",abstractKey:null};n.hash="1fa2dcb4af48db691ce61f944d0ae13d",a.default=n},99366:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMain_viewer",selections:[{alias:"noOfCarouselsLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_category_carousels_on_home_page"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_category_carousels_on_home_page")'},{alias:"botsPerCarouselLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_bots_per_category_in_category_carousel"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_bots_per_category_in_category_carousel")'},{alias:"enableCarouselsOnNewHomePage",args:[{kind:"Literal",name:"gateName",value:"poe_enable_carousels_on_new_home_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_carousels_on_new_home_page")'},{args:null,kind:"FragmentSpread",name:"ChatHomeMainInputContainer_viewer"},{args:null,kind:"FragmentSpread",name:"ChatHomeMain_useLoginEffect_viewer"},{args:null,kind:"FragmentSpread",name:"useBotSelector_viewer"},{args:null,kind:"FragmentSpread",name:"ChatSubscriptionPaywallContextWrapper_viewer"}],type:"Viewer",abstractKey:null};n.hash="d82e7c124b5d898441ab31934924bb44",a.default=n},47796:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SprigSurvey_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null}],type:"Viewer",abstractKey:null};n.hash="3754aeacd298f6c96313e086d278b0cb",a.default=n},15421:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"optimisticChat_useCreateOptimisticChat_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],type:"Bot",abstractKey:null};n.hash="4cb48ebe801cb479e1334ef3134091b6",a.default=n},16122:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"optimisticChat_useOptimisticChat_bot",selections:[{args:null,kind:"FragmentSpread",name:"optimisticChat_useCreateOptimisticChat_bot"}],type:"Bot",abstractKey:null};n.hash="90699b91cac95b49724818a1cd06739d",a.default=n},66153:function(e,a,l){"use strict";var n,i,t,s,r,o;l.r(a);let u={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"pagesLandingPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHomeMain_viewer"},{args:null,kind:"FragmentSpread",name:"SprigSurvey_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"pagesLandingPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"noOfCarouselsLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_category_carousels_on_home_page"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_category_carousels_on_home_page")'},{alias:"botsPerCarouselLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_bots_per_category_in_category_carousel"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_bots_per_category_in_category_carousel")'},{alias:"enableCarouselsOnNewHomePage",args:[{kind:"Literal",name:"gateName",value:"poe_enable_carousels_on_new_home_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_carousels_on_new_home_page")'},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'},{alias:null,args:null,kind:"ScalarField",name:"primaryEmail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showDownloadAndroidAppPrompt",storageKey:null},n,{alias:null,args:i=[{kind:"Literal",name:"first",value:3}],concreteType:"BotsConnection",kind:"LinkedField",name:"availableBotsConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[n,t={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},n],storageKey:"availableBotsConnection(first:3)"},{alias:null,args:i,filters:null,handle:"connection",key:"HomeBotSelector_viewer_availableBotsConnection",kind:"LinkedHandle",name:"availableBotsConnection"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[n,o,{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null}],storageKey:null}]},params:{id:"efb65cd82db733310f7bd699b07dbe7d991df524fe33b22741693584a7ba4b55",metadata:{},name:"pagesLandingPageQuery",operationKind:"query",text:null}};u.hash="871eeb1f85b83db65ce0ba3b48b3a582",a.default=u},58613:function(e,a,l){"use strict";var n,i,t;l.r(a);let s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"useBotSelectorBotQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useBotSelector_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useBotSelectorBotQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],type:"Bot",abstractKey:null}],storageKey:null}]},params:{id:"2f19040e54444b9a896069ef414c5cc252e23253fabafdb57985358fb74f0399",metadata:{},name:"useBotSelectorBotQuery",operationKind:"query",text:null}};s.hash="17e1176b8f01b0f3b0fd989adc98d86e",a.default=s},11593:function(e,a,l){"use strict";var n,i,t,s,r,o,u;l.r(a);let d={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"useBotSelectorViewerBotsPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:i=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"useBotSelector_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useBotSelectorViewerBotsPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:i,concreteType:"BotsConnection",kind:"LinkedField",name:"availableBotsConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[t,s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:i,filters:null,handle:"connection",key:"HomeBotSelector_viewer_availableBotsConnection",kind:"LinkedHandle",name:"availableBotsConnection"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"dd95d2595ee1370965bfc8f0ed605106240e48eb4fe926a1786ae306d285945d",metadata:{},name:"useBotSelectorViewerBotsPaginationQuery",operationKind:"query",text:null}};d.hash="38ba1694da67f3bb6a82c026501045ae",a.default=d},6276:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:l(58613),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"useBotSelector_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatSubscriptionPaywallContextWrapper_bot"},{args:null,kind:"FragmentSpread",name:"ChatHomeMainInputContainer_bot"}],type:"Bot",abstractKey:null};n.hash="17e1176b8f01b0f3b0fd989adc98d86e",a.default=n},56629:function(e,a,l){"use strict";var n,i;l.r(a);let t=(i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:n=["availableBotsConnection"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:n},fragmentPathInResult:["viewer"],operation:l(11593)}},name:"useBotSelector_viewer",selections:[i,{alias:"availableBotsConnection",args:null,concreteType:"BotsConnection",kind:"LinkedField",name:"__HomeBotSelector_viewer_availableBotsConnection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BotSelectorHomeMain_displayBotEdges"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"useBotSelector_bot"}],storageKey:null}],type:"Viewer",abstractKey:null});t.hash="38ba1694da67f3bb6a82c026501045ae",a.default=t},75658:function(e,a,l){"use strict";var n=l(85893),i=l(42116),t=l(44254);a.Z=e=>(0,n.jsx)(t.Z,{leftNavItem:(0,n.jsx)(i.Z,{}),...e})},77573:function(e,a,l){"use strict";l.d(a,{f:function(){return useSprigSurvey},i:function(){return logoutUserInSprig}});var n=l(67294),i=l(22578);let initSprig=async()=>{if(window.Sprig)return window.Sprig;let{sprig:e}=await l.e(2141).then(l.bind(l,59236));return e.configure({environmentId:"OFiT3eT6FKrU"})},useSprigSurvey=e=>{let a=(0,i.useFragment)(l(47796),e);(0,n.useEffect)(()=>{initSprig().then(e=>{a.uid&&e("setUserId","".concat(a.uid))})},[a.uid])},logoutUserInSprig=async()=>{let e=await initSprig();e("logoutUser")}},55554:function(e,a,l){"use strict";l.d(a,{F5:function(){return useCreateOptimisticChat},t3:function(){return useOptimisticChat}});var n=l(41143),i=l.n(n),t=l(67294),s=l(22578),r=l(44311);let gen_random_number=()=>Math.floor(1e9*Math.random()),getOptimisticChatId=e=>"OPTIMISTIC_CHAT_".concat(e),getOptimisticMessagesConnectionId=e=>r.ConnectionHandler.getConnectionID(e,"ChatMessagesView_chat_messagesConnection"),getOptimisticMessagePageInfoId=e=>"".concat(e,"_MESSAGE_PAGE_INFO"),getOptimisticMemberPageInfoId=e=>"".concat(e,"_MEMBER_PAGE_INFO"),getOptimisticIntroMessageId=e=>"".concat(e,"_INTRO_MESSAGE"),getOptimisticIntroMessageEdgeId=e=>"".concat(e,"_INTRO_MESSAGE_EDGE"),getOptimisticMembersConnectionId=e=>"".concat(e,"_MEMBERS_CONNECTION"),getOptimisticBotMemberEdgeId=e=>"".concat(e,"_BOT_MEMBER_EDGE"),getOptimisticFileId=(e,a)=>"".concat(e,"_FILE_").concat(a),getOptimisticMessageAttachmentId=(e,a)=>"".concat(e,"_MESSAGE_ATTACHMENT_").concat(a),createOptimisticAttachment=(e,a,l,n)=>{let i=a.getDataID(),t=getOptimisticFileId(i,n),s=e.create(t,"File");s.setValue(t,"id"),s.setValue("text","fileFormat"),s.setValue("OPTIMISTIC_FILE_HASH","fileHash"),s.setValue(l.type,"mimeType"),s.setValue(null,"processedUrl"),s.setValue(l.size,"size"),s.setValue("","url");let r=getOptimisticMessageAttachmentId(i,n),o=e.create(r,"MessageAttachment");return o.setValue(r,"id"),o.setValue(r,"attachmentId"),o.setValue(l.name,"name"),o.setLinkedRecord(s,"file"),o.setLinkedRecord(a,"message"),o},createOptimisticMessage=function(e,a,l,n,i,t){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],r=e.create(l,"Message");return r.setValue(l,"id"),r.setValue(l,"messageId"),r.setValue(n,"text"),r.setValue(t,"state"),r.setValue(i,"author"),r.setValue(i,"authorNickname"),r.setValue("chat_input","sourceType"),r.setValue("not_truncated","attachmentTruncationState"),r.setValue(1e3*Date.now(),"creationTime"),r.setValue("","clientNonce"),r.setValue(null,"textLengthOnCancellation"),r.setValue(null,"uid"),r.setValue(null,"vote"),r.setValue(null,"voteReason"),r.setValue([],"suggestedReplies"),r.setLinkedRecord(a,"chat"),r.setLinkedRecords(s.map((a,l)=>createOptimisticAttachment(e,r,a,l)),"attachments"),r.setValue(!0,"isOptimistic"),r.setValue(0,"timeoutLevel"),r.setValue(null,"offlineError"),r.setValue(null,"textLengthOnCancellationImmediate"),r},useOptimisticChat=(e,a)=>{let n=(0,s.useFragment)(l(16122),e),i=useCreateOptimisticChat(n),[r]=(0,t.useState)(()=>a||i());return r},useCreateOptimisticChat=e=>{let{introduction:a,id:n,nickname:i,model:r}=(0,s.useFragment)(l(15421),e),o=(0,s.useRelayEnvironment)();return(0,t.useCallback)(()=>createOptimisticChat({environment:o,botId:n,botNickname:i,botModel:r,introduction:a}),[o,n,i,r,a])},createOptimisticChat=e=>{let a,l,{environment:n,botId:t,botNickname:s,botModel:o,introduction:u}=e;return(0,r.commitLocalUpdate)(n,e=>{let n=e.get(t);for(i()(n,"bot is ".concat(n));!a||e.get(a);)a=getOptimisticChatId(l=gen_random_number());let r=e.create(a,"Chat");r.setValue(a,"id"),r.setValue(a,"chatId"),r.setValue("","chatCode"),r.setValue(!0,"isOptimistic"),r.setValue(s,"defaultBotNickname"),r.setValue(1e3*Date.now(),"creationTime"),r.setValue(1e3*Date.now(),"lastInteractionTime"),r.setValue(null,"title"),r.setValue(!0,"shouldShowDisclaimer"),r.setValue(1e3*Date.now(),"creationTime"),r.setLinkedRecord(n,"defaultBotObject");let d=getOptimisticIntroMessageId(a),c=u?[createOptimisticMessage(e,r,d,u,o,"complete")]:[],g=c.map(l=>{i()(a,"chatId is ".concat(a));let n=e.create(getOptimisticIntroMessageEdgeId(a),"MessageEdge");return n.setLinkedRecord(l,"node"),n}),m=e.create(getOptimisticMessagePageInfoId(a),"PageInfo");m.setValue(!1,"hasPreviousPage"),m.setValue(u?d:null,"startCursor");let p=e.create(getOptimisticMessagesConnectionId(a),"MessagesConnection");p.setLinkedRecords(g,"edges"),p.setLinkedRecord(m,"pageInfo"),r.setLinkedRecord(p,"messagesConnection",{last:5}),r.setLinkedRecord(p,"__ChatMessagesView_chat_messagesConnection_connection");let y=[e.create(getOptimisticBotMemberEdgeId(a),"ChatMemberEdge")];y[0].setLinkedRecord(n,"node");let k=e.create(getOptimisticMemberPageInfoId(a),"PageInfo");k.setValue(!1,"hasNextPage"),k.setValue(y[0].getDataID(),"endCursor");let _=e.create(getOptimisticMembersConnectionId(a),"ChatMemberConnection");_.setLinkedRecords(y,"edges"),_.setLinkedRecord(k,"pageInfo"),r.setLinkedRecord(_,"membersConnection"),e.getRoot().setLinkedRecord(r,"optimisticChat",{optimisticChatId:a})}),i()(a,"chatId is ".concat(a)),i()(l,"chatIdNumber is ".concat(l)),a}},20308:function(e,a,l){"use strict";var n=l(67294);a.Z=()=>{let[e,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{a(!0)},[a]),e}},30828:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return en}});var n=l(85893),i=l(5152),t=l.n(i),s=l(11163);l(44311);var r=l(41143),o=l.n(r),u=l(67294),d=l(22120),c=l(22578),g=l(69295),m=l(31263),p=l.n(m),y=l(47547),k=(0,u.forwardRef)((e,a)=>{let{bot:i,isSelected:t,onClick:s}=e,r=(0,c.useFragment)(l(73491),i),o=(0,u.useCallback)(()=>{s(r.id)},[r,s]);return(0,n.jsxs)(g.oM,{className:p().pill,"aria-current":t,onClick:o,ref:a,children:[(0,n.jsx)(y.Z,{bot:r,size:12,className:p().botImage}),r.displayName]})}),_=l(41019),b=l(81261),S=l(31642),F=l.n(S);let importSelectorModal=()=>Promise.all([l.e(4433),l.e(5950)]).then(l.bind(l,74433)),f=(0,u.memo)(e=>{let{onBotSelect:a}=e,[l,i]=(0,u.useState)(!1),{t}=(0,d.$G)(),s=(0,u.useCallback)(e=>{i(!0),e.preventDefault()},[i]),r=(0,u.useCallback)(()=>{i(!1)},[i]),o=(0,u.useCallback)((e,l)=>{e.preventDefault(),i(!1),setTimeout(()=>a(l),1)},[i,a]),c=(0,u.useMemo)(()=>({closeModal:r,onSelectorItemClick:o}),[r,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(g.oM,{onClick:s,children:[(0,n.jsx)(b.Z,{}),t("More")]}),(0,n.jsx)(_.Z,{isOpen:l,onRequestClose:r,body:importSelectorModal,bodyProps:c,modalHeight:400,useMinHeight:!0})]})});f.displayName="AllBotsButtonPill";var chat_BotSelectorHomeMain=e=>{let{selectedBotId:a,displayBotEdges:i,onBotSelect:t}=e,s=(0,c.useFragment)(l(14972),i),r=u.useRef(null);return u.useEffect(()=>{var e;null==r||null===(e=r.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"center"})},[a]),(0,n.jsxs)("div",{className:F().botPillWrapper,children:[s.map(e=>(0,n.jsx)(k,{bot:e.node,isSelected:e.node.id===a,onClick:t,ref:e.node.id===a?r:void 0},e.node.id)),(0,n.jsx)(f,{onBotSelect:t})]})},hooks_useBotSelector=e=>{var a;let{data:n}=(0,c.usePaginationFragment)(l(56629),e),[i,t]=(0,c.useRefetchableFragment)(l(6276),n.defaultBot),s=null===(a=n.availableBotsConnection)||void 0===a?void 0:a.edges,[r,d]=(0,u.useState)(s[0].node.id),g=(0,u.useCallback)(e=>{d(e),(0,u.startTransition)(()=>{t({id:e})})},[t]),m=(0,u.useMemo)(()=>s.find(e=>e.node.id===r)||s[0],[s,r]);o()(m&&m.node,"selectedEdge is ".concat(m));let p=(0,u.useMemo)(()=>{let e=s.slice(0,3),a=e.map(e=>e.node.id);return a.includes(r)?e:[m,...e].slice(0,3)},[s,r,m]);return o()(null!=i,"Selected Bot Data is ".concat(i)),{displayBotEdges:p,selectedBotId:r,deferredSelectedBotData:i,onBotSelect:g}},K=l(50922),h=l(75704),C=l(2197),L=l(3597),w=l(81534),v=l(38650),I=l(71289),B=l(55554),N=l(57138),M=l(55625),T=l(81333),O=l.n(T),P=l(74766),R=l(77614),V=l(50515),x=l(49169);let E=t()(()=>Promise.all([l.e(5840),l.e(4502)]).then(l.bind(l,82646)),{loadableGenerated:{webpack:()=>[82646]},ssr:!1,loading:()=>(0,n.jsx)(h.Sz,{})}),D=t()(()=>Promise.all([l.e(5840),l.e(9746)]).then(l.bind(l,12178)),{loadableGenerated:{webpack:()=>[12178]},ssr:!1,loading:()=>(0,n.jsx)(h.Sz,{})}),importDownloadAppModal=()=>l.e(9452).then(l.bind(l,59452)),ChatHomeMainInputContainer=e=>{let{bot:a,viewer:i}=e,{t}=(0,d.$G)(),r=(0,c.useFragment)(l(19311),a),{useBotRecencyOrder:g,...m}=(0,c.useFragment)(l(61733),i);if(!m.poeUser)throw new N.TX;let p=(0,c.useRelayEnvironment)();(0,u.useEffect)(()=>{let e=(0,c.loadQuery)(p,l(50417),{botId:r.botId});return()=>e.dispose()},[r.botId,p]),(0,u.useEffect)(()=>{let e=(0,c.loadQuery)(p,l(88548),{});return()=>e.dispose()},[p]);let y=(0,s.useRouter)(),k=(0,u.useCallback)(e=>{let{messageEdgeCreate:a}=e,l=a.chat;o()(l,"chat is null"),y.replace("?chat=".concat(l.chatCode,"&botId=").concat(l.defaultBotObject.botId),"chat/".concat(l.chatCode),{shallow:!0})},[y]),_=(0,B.F5)(r),{shouldPromptSubscription:b,openPaywall:S}=(0,x.rk)(),{logClick:F}=(0,w.B)(r),f=(0,u.useCallback)(()=>{F(R.Z.limited_access_bot),S()},[F,S]),h=(0,C.ZP)(),L=(0,u.useContext)(I.cq),M=(0,u.useCallback)(async(e,a,n)=>{var i,t,s;let u=null===(t=e.current)||void 0===t?void 0:null===(i=t.getValue())||void 0===i?void 0:i.trim();if(!u)return;let d={sourceType:"chat_input",chatInputMetadata:{useVoiceRecord:(null===(s=a.current)||void 0===s?void 0:s.getVoiceInputUsed())||!1,newChatContext:P.Z.home_page_input}},m=_();y.push("?optimisticChatId=".concat(m,"&botId=").concat(r.botId),"/",{shallow:!0});let b=await (0,c.fetchQuery)(p,l(47195),{optimisticChatId:m},{fetchPolicy:"store-or-network"}).toPromise();o()(null==b?void 0:b.optimisticChat,"Optimistic chat ".concat(m," not found in store")),(0,v.b)({environment:p,chat:b.optimisticChat,prompt:u,files:n,source:d,setToast:h,onSuccessfulMessageSend:k,shouldUpdateChatHistory:!L.isEmbed,useBotRecencyOrder:g})},[r.botId,_,y,h,p,k,L,g]),T=(0,u.useRef)(null);return(0,n.jsx)("div",{className:O().inputContainer,onClick:b?f:void 0,children:(0,n.jsx)(K.Z,{ref:T,viewer:m,placeholderText:t("Start a new chat"),bot:r,edges:null,onSubmitMessage:M,isBotResponding:!1})})},useLoginEffect=e=>{let{viewer:a}=e,i=(0,c.useFragment)(l(62313),a),[t,r]=(0,u.useState)(!1),g=(0,s.useRouter)(),m=(0,C.ZP)(),{t:p}=(0,d.$G)();(0,u.useEffect)(()=>{i.showDownloadAndroidAppPrompt&&r(!0)},[]),(0,u.useEffect)(()=>{if(g.query.login_success){var e;let a=(null===(e=i.poeUser)||void 0===e?void 0:e.fullName)||i.primaryEmail;o()(!!a,"Name or email should be present for logged-in user."),m({content:p("Logged-in as {{nameOrEmail}}.",{nameOrEmail:a}),type:C.pC.success}),(0,M.CS)(g,"login_success")}},[]);let y=(0,u.useCallback)(()=>{r(!1)},[r]),k=(0,u.useMemo)(()=>({closeModal:y}),[y]);return{downloadAppModal:(0,n.jsx)(_.Z,{isOpen:t,onRequestClose:y,body:importDownloadAppModal,bodyProps:k})}};var chat_ChatHomeMain=e=>{let{viewer:a}=e,i=(0,c.useFragment)(l(99366),a),{displayBotEdges:t,selectedBotId:s,deferredSelectedBotData:r,onBotSelect:o}=hooks_useBotSelector(i),{downloadAppModal:d}=useLoginEffect({viewer:i});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.Z,{title:"Poe"}),(0,n.jsxs)("div",{className:O().container,children:[(0,n.jsx)(L.Z,{className:O().logo,priority:!0}),(0,n.jsx)(chat_BotSelectorHomeMain,{displayBotEdges:t,selectedBotId:s,onBotSelect:o}),(0,n.jsx)(x.ZP,{bot:r,viewer:i,children:(0,n.jsx)(ChatHomeMainInputContainer,{bot:r,viewer:i})})]}),i.enableCarouselsOnNewHomePage&&(0,n.jsx)("div",{className:O().exploreBotsCarousel,children:(0,n.jsx)(u.Suspense,{fallback:(0,n.jsx)(h.Sz,{}),children:i.noOfCarouselsLimit>0?(0,n.jsx)(E,{noOfCarouselsLimit:i.noOfCarouselsLimit,botsPerCarouselLimit:i.botsPerCarouselLimit}):(0,n.jsx)(D,{botsPerCarouselLimit:i.botsPerCarouselLimit})})}),d]})},G=l(21491),H=l.n(G),A=l(75658),layout_HomePageMainNavbar=e=>(0,n.jsx)(A.Z,{className:H().navbar,...e}),j=l(42050),U=l(52239),Q=l(2576),Z=l(19547),q=l(74929),z=l(38726),W=l(46857),X=l(77573),$=l(50530),J=l(20308),Y=l(37115);let ee=t()(()=>Promise.all([l.e(8496),l.e(5333),l.e(1892),l.e(4067),l.e(8111),l.e(2813)]).then(l.bind(l,12813)),{loadableGenerated:{webpack:()=>[12813]},ssr:!1}),ea=t()(()=>Promise.all([l.e(8496),l.e(5333),l.e(1892),l.e(4067),l.e(278),l.e(8985),l.e(5725)]).then(l.bind(l,58985)),{loadableGenerated:{webpack:()=>[58985]},ssr:!1}),useArgs=()=>{let e=(0,s.useRouter)(),{optimisticChatId:a,botId:l,chat:n}=e.query;if(!(0,$.HD)(l))return null;let i=parseInt(l);return isNaN(i)?null:(0,$.HD)(n)?{chatCode:n,botId:i}:(0,$.HD)(a)?{optimisticChatId:a,botId:i}:null},HomePageLazyChatLoaders=()=>{let e=(0,J.Z)(),a=useArgs();return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee,{...a}),(0,n.jsx)(ea,{...a})]}):null},el=(0,Z.x)((0,Q.Z)((0,z.i)(e=>{let{data:a}=e,l=(0,Y.F)(),{query:{redirectUrl:i}}=(0,s.useRouter)();if((0,q.au)(l)&&"/close_window"!==i){let e=(0,U.D6)();throw new N.dD(e)}let{viewer:t}=a,r=useArgs();return(0,W.Rz)(),(0,X.f)(t),(0,n.jsxs)(n.Fragment,{children:[!r&&(0,n.jsxs)(j.Z,{header:(0,n.jsx)(layout_HomePageMainNavbar,{title:""}),children:[(0,n.jsx)(V.Z,{title:""}),(0,n.jsx)(chat_ChatHomeMain,{viewer:t})]}),(0,n.jsx)(HomePageLazyChatLoaders,{})]})},{query:l(66153)},{loggedInOnly:!0}),e=>{let{botId:a}=e;if(!(0,$.HD)(a))return null;let l=parseInt(a);return isNaN(l)?null:{botId:l}}));var en=el},31263:function(e){e.exports={botImage:"BotPill_botImage__FvRpl",pill:"BotPill_pill__R_zO5"}},31642:function(e){e.exports={botPillWrapper:"BotSelectorHomeMain_botPillWrapper___6pXq"}},81333:function(e){e.exports={container:"ChatHomeMain_container__l4uRf",logo:"ChatHomeMain_logo__OZxiw",inputContainer:"ChatHomeMain_inputContainer__9mgRh",exploreBotsCarousel:"ChatHomeMain_exploreBotsCarousel__wddju",exploreBotsCarouselContainer:"ChatHomeMain_exploreBotsCarouselContainer__iA_nh"}},21491:function(e){e.exports={navbar:"HomePageMainNavbar_navbar__VoEbp"}}},function(e){e.O(0,[1664,5675,3253,9386,6503,9898,2846,8687,8348,9774,2888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);