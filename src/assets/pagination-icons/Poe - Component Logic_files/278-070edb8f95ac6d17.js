(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{51365:function(e,a,l){"use strict";var n,i,s,r,t,o,u,d,g,c,m,k;l.r(a);let y={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],kind:"Fragment",metadata:null,name:"ChatPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatPage_viewer"}],storageKey:null},{alias:null,args:i=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatPage_chat"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"allowDragDrop",args:[{kind:"Literal",name:"gateName",value:"poe_file_drag_and_drop"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_drag_and_drop")'},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},s,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},r],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"useShareButtonRedesign",args:[{kind:"Literal",name:"gateName",value:"poe_share_button_redesign"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_share_button_redesign")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},r],storageKey:null},{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},r,o,{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[u,{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},r,d={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOfficialBot",storageKey:null},d],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},r],storageKey:null},{alias:null,args:m=[{kind:"Literal",name:"last",value:5}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"textLengthOnCancellation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"contentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attachmentTruncationState",storageKey:null},{alias:null,args:null,concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mimeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},r],storageKey:null}],type:"Attachment",abstractKey:"__isAttachment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientNonce",storageKey:null},g,{kind:"ClientExtension",selections:[k={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timeoutLevel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offlineError",storageKey:null}]},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},r],storageKey:"messagesConnection(last:5)"},{alias:null,args:m,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"ClientExtension",selections:[k]},d],storageKey:null}]},params:{id:"7f1ec4faff7f393b48c2f2b516b4927c9a6b284236004a3ea66aa96c30b02dda",metadata:{},name:"ChatPageQuery",operationKind:"query",text:null}};y.hash="91839f1fd5120924ee7c35e43848d89b",a.default=y},36199:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPage_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"},{args:null,kind:"FragmentSpread",name:"HardDeletedBanner_bot"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_bot"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatPageMain_chat"},{args:null,kind:"FragmentSpread",name:"ChatHeader_chat"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_chat"}],type:"Chat",abstractKey:null};n.hash="48ebf13290fb8418d24ff059ab07596c",a.default=n},55698:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPage_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_viewer"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_viewer"},{args:null,kind:"FragmentSpread",name:"ChatHeader_viewer"}],type:"Viewer",abstractKey:null};n.hash="8ccb61b83e5fb640590258add155f805",a.default=n},41215:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HardDeletedBanner_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerIsCreator",storageKey:null}],type:"Bot",abstractKey:null};n.hash="5e44342ceabd41650905c8b196469c53",a.default=n},69280:function(e,a,l){"use strict";var n=l(85893),i=l(41664),s=l.n(i),r=l(22120),t=l(22578),o=l(34669),u=l.n(o);let d={2:(0,n.jsx)(s(),{href:"https://help.poe.com/hc/en-us/requests/new?ticket_form_id=16988716607764"})};a.Z=e=>{let{bot:a}=e,{viewerIsCreator:i}=(0,t.useFragment)(l(41215),a);return(0,n.jsx)("div",{className:u().hardDeletedBanner,children:(0,n.jsxs)("span",{children:[(0,n.jsxs)(r.cC,{children:["This bot has been deleted for violating our"," ",(0,n.jsx)(s(),{href:"/usage_guidelines",target:"_blank",children:"Usage Guidelines"}),"."]})," ",i&&(0,n.jsx)(r.cC,{components:d,defaults:"If you disagree with this decision, please <2>contact us</2>."})]})})}},278:function(e,a,l){"use strict";l.r(a),l.d(a,{ChatPageInner:function(){return ChatPageInner}});var n=l(85893),i=l(22120),s=l(22578);l(44311);var r=l(69280),t=l(64180),o=l(57890),u=l(50803),d=l(42050),g=l(50515),c=l(47366),m=l(37650),k=l(2576),y=l(50141),p=l(19547),_=l(38726),F=l(57138),S=l(50530);let getChatCode=e=>{let a=e.chat;if(!(0,S.HD)(a))throw new F.TX;return{chatCode:a}},ChatPageInner=e=>{let{chat:a,viewer:k}=e,{t:p}=(0,i.$G)(),_=(0,s.useFragment)(l(36199),a),S=(0,s.useFragment)(l(55698),k),K="Poe - "+(_.title||p("New chat")),{isHardDeleted:b}=(0,m.iZ)(_.defaultBotObject);if(_.isDeleted)throw new F.TX;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{title:K}),(0,n.jsx)(y.Br,{children:(0,n.jsx)(c.c,{children:(0,n.jsx)(d.Z,{header:(0,n.jsx)(o.Z,{bot:_.defaultBotObject,viewer:S,chat:_,useChatTitle:!0,children:(0,n.jsx)(t.Z,{chat:_,viewer:S})}),startAtBottom:!0,children:b?(0,n.jsx)(r.Z,{bot:_.defaultBotObject}):(0,n.jsx)(u.Z,{chat:_,viewer:S})})})})]})},K=(0,p.x)((0,k.Z)((0,_.i)(e=>{let{data:a}=e;return(0,n.jsx)(ChatPageInner,{chat:a.chatOfCode,viewer:a.viewer})},{query:l(51365),variables:getChatCode,onServerResponse:e=>{if(!e.data)throw new F.TX}},{}),getChatCode));a.default=K},34669:function(e){e.exports={hardDeletedBanner:"HardDeleteBanner_hardDeletedBanner__doP3p"}}}]);