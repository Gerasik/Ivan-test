"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8111],{58669:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_OptimisticChatHeader_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_viewer"}],type:"Viewer",abstractKey:null};n.hash="f1e3559f1366b5ad73cbf03fbf266265",a.default=n},35568:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatPageMain_bot"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{args:null,kind:"FragmentSpread",name:"optimisticChat_useOptimisticChat_bot"}],type:"Bot",abstractKey:null};n.hash="b4b4694ef0d6ceeb9450fa988cf68a74",a.default=n},26665:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HandleBotLandingPageInner_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="147b547d96229c7df9235714972d3481",a.default=n},58315:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_viewer"},{args:null,kind:"FragmentSpread",name:"SprigSurvey_viewer"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_viewer"},{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_OptimisticChatHeader_viewer"}],type:"Viewer",abstractKey:null};n.hash="c633bf31d7cf60748b5fd8fef24e1596",a.default=n},87430:function(e,a,l){var n,i,s,t,r,o,u,d,g,c,m,y,k,p;l.r(a);let F=(n=[{defaultValue:null,kind:"LocalArgument",name:"botHandle"}],i=[{kind:"Variable",name:"name",variableName:"botHandle"}],s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},y={kind:"TypeDiscriminator",abstractKey:"__isNode"},k=[{kind:"Literal",name:"first",value:1},r={kind:"Variable",name:"handle",variableName:"botHandle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"}],storageKey:null},{alias:"chats",args:[r],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_chatEdges"},o,{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[u],storageKey:null}],storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[g],storageKey:null},c,{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,m,{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},g,y],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},y],storageKey:null},{alias:null,args:k,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g,u],storageKey:null},o,g],storageKey:null},d,g],storageKey:null},{alias:null,args:k,filters:["handle"],handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[g,p={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},c,{alias:"allowDragDrop",args:[{kind:"Literal",name:"gateName",value:"poe_file_drag_and_drop"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_drag_and_drop")'},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},p,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[m,g],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"useShareButtonRedesign",args:[{kind:"Literal",name:"gateName",value:"poe_share_button_redesign"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_share_button_redesign")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},g],storageKey:null}]},params:{id:"44afb6b88f464d3742478bc39b3c8ae04a6329d537cd3725a41a43181f1bda29",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["chats"]}]},name:"HandleBotLandingPageQuery",operationKind:"query",text:null}});F.hash="45cd496590d315e1463dc54f46eec65e",a.default=F},34253:function(e,a,l){var n,i,s,t;l.r(a);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOfficialBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},s,t={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},t],storageKey:null}]}]},params:{cacheID:"d940a28fe531437684fe7263121ea42b",id:null,metadata:{},name:"HandleBotOptimisticChatHeaderQuery",operationKind:"query",text:null}};r.hash="ccb42017d2fad2fb8bdc3521c4a4a5bd",a.default=r},56352:function(e,a,l){var n,i,s,t,r,o,u,d;l.r(a);let g={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},s,r={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},s],storageKey:null},{alias:null,args:d=[{kind:"Literal",name:"last",value:5}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"textLengthOnCancellation",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timeoutLevel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offlineError",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attachmentTruncationState",storageKey:null},{alias:null,args:null,concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mimeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},s],storageKey:null}],type:"Attachment",abstractKey:"__isAttachment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientNonce",storageKey:null},o,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},s],storageKey:"messagesConnection(last:5)"},{alias:null,args:d,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},r],storageKey:null}]}]},params:{cacheID:"6bfbdaf91296d5f97c1569126c70383d",id:null,metadata:{},name:"OptimisticChatPageMainQuery",operationKind:"query",text:null}};g.hash="5c437a8d087843ccbf8dbd501ba55146",a.default=g},88593:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageMain_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="c277a063d0a7edce0bdedd70c44bd153",a.default=n},50509:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OptimisticChatPageMain_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_viewer"}],type:"Viewer",abstractKey:null};n.hash="ab46e6124989588c4c69b76f108e6bd0",a.default=n},48111:function(e,a,l){l.r(a),l.d(a,{BotLandingPageInner:function(){return BotLandingPageInner},BotPageLazyChatLoaders:function(){return BotPageLazyChatLoaders},checkLoggedOutUsageEligibilityAndThrowRedirectionError:function(){return checkLoggedOutUsageEligibilityAndThrowRedirectionError},default:function(){return B},getBotHandle:function(){return getBotHandle},throwRedirectionErrorForBotHandle:function(){return throwRedirectionErrorForBotHandle},useArgs:function(){return useArgs}});var n=l(85893),i=l(5152),s=l.n(i),t=l(11163),r=l(22578);l(44311);var o=l(64180),u=l(57890),d=l(41143),g=l.n(d),c=l(67294),m=l(57138),y=l(50803),chat_OptimisticChatPageMain=e=>{let{optimisticChatId:a,chats:i,viewer:s}=e,o=(0,r.useFragment)(l(50509),s),u=(0,r.useFragment)(l(88593),i),{optimisticChat:d}=(0,r.useLazyLoadQuery)(l(56352),{optimisticChatId:a});if(!d)throw new m.TX;let k=(0,t.useRouter)(),p=(0,c.useCallback)(e=>{let{messageEdgeCreate:a}=e,l=a.chat;g()(l,"chat is null"),k.push({pathname:k.pathname,query:{...k.query,chat:l.chatCode,botId:l.defaultBotObject.botId}},"/chat/".concat(l.chatCode),{shallow:!0})},[k]);return(0,n.jsx)(y.Z,{chat:d,chats:u,viewer:o,onSuccessfulMessageSend:p})},k=l(42050),p=l(2012),F=l(50515),S=l(2576),K=l(55554),h=l(19547),b=l(38726),_=l(46857),L=l(77573),f=l(50530),w=l(20308);let useArgs=()=>{let e=(0,t.useRouter)(),{botId:a,chat:l}=e.query;if(!(0,f.HD)(a))return null;let n=parseInt(a);return isNaN(n)?null:(0,f.HD)(l)?{chatCode:l,botId:n}:null},C=s()(()=>Promise.all([l.e(278),l.e(8985),l.e(2533)]).then(l.bind(l,58985)),{loadableGenerated:{webpack:()=>[58985]},ssr:!1}),BotPageLazyChatLoaders=()=>{let e=(0,w.Z)(),a=useArgs();return e?(0,n.jsx)(C,{...a}):null},getBotHandle=e=>{let a=null==e?void 0:e.handle;if(!(0,f.HD)(a))throw new m.TX;return{botHandle:a}},throwRedirectionErrorForBotHandle=e=>{throw new m.dD("/universal_link_page?handle=".concat(encodeURIComponent(e)))},checkLoggedOutUsageEligibilityAndThrowRedirectionError=e=>{let{isLoggedIn:a,isLoggedOutUsageEnabled:l,isBotEligibleForLoggedOutUsage:n,botHandle:i}=e;a||l&&n||throwRedirectionErrorForBotHandle(i)},OptimisticChatHeader=e=>{let{optimisticChatId:a,viewer:i}=e,{optimisticChat:s}=(0,r.useLazyLoadQuery)(l(34253),{optimisticChatId:a}),t=(0,r.useFragment)(l(58669),i);if(!s)throw new m.TX;return(0,n.jsx)(o.Z,{chat:s,viewer:t})},BotLandingPageInner=e=>{let{viewer:a,bot:i,optimisticChatId:s,chats:t}=e,{isLoggedInUser:o}=(0,p.b)();if(!i)throw new m.TX;let d=(0,r.useFragment)(l(35568),i),g=(0,r.useFragment)(l(26665),t),c=(0,r.useFragment)(l(58315),a);checkLoggedOutUsageEligibilityAndThrowRedirectionError({isLoggedIn:o,isLoggedOutUsageEnabled:c.isLoggedOutUsageEnabled,isBotEligibleForLoggedOutUsage:d.isEligibleForLoggedOutUsage,botHandle:d.displayName}),(0,_.Rz)(),(0,L.f)(c);let y=(0,K.t3)(d,s);return(0,n.jsxs)(k.Z,{header:(0,n.jsx)(u.Z,{viewer:c,bot:d,useChatTitle:!0,children:(0,n.jsx)(OptimisticChatHeader,{optimisticChatId:y,viewer:c})}),startAtBottom:!0,children:[(0,n.jsx)(F.Z,{title:"Poe - "+d.displayName}),(0,n.jsx)(chat_OptimisticChatPageMain,{optimisticChatId:y,viewer:c,chats:g})]})},v=(0,h.x)((0,S.Z)((0,b.i)(e=>{let{data:a}=e,l=useArgs();return(0,n.jsxs)(n.Fragment,{children:[!l&&(0,n.jsx)(BotLandingPageInner,{bot:a.bot,chats:a.chats.edges,viewer:a.viewer}),(0,n.jsx)(BotPageLazyChatLoaders,{})]})},{query:l(87430),variables:getBotHandle,onServerResponse:e=>{var a,l;if(!(null===(a=e.data)||void 0===a?void 0:a.bot)||!(null===(l=e.data)||void 0===l?void 0:l.viewer))throw new m.TX;let{bot:n,viewer:i}=e.data;checkLoggedOutUsageEligibilityAndThrowRedirectionError({isLoggedIn:!!i.poeUser,isLoggedOutUsageEnabled:i.isLoggedOutUsageEnabled,isBotEligibleForLoggedOutUsage:n.isEligibleForLoggedOutUsage,botHandle:n.displayName})}},{}),getBotHandle));var B=v}}]);